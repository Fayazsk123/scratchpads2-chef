{
  "name": "scratchpads-role-apache",
  "description": "Webserver role.",
  "default_attributes": {
    "chef_client": {
      "init_style": "systemd"
    },
    "php": {
      "conf_dir": "/etc/php5/apache2",
      "directives": {
        "memory_limit": "512M",
        "session.save_path": "/var/www/php-sessions",
        "realpath_cache_ttl": 3600,
        "realpath_cache_size": "10M",
        "opcache.memory_consumption": "256",
        "opcache.max_accelerated_files": 5000,
        "opcache.enable_file_override": 1
      },
      "ext_conf_dir": "/etc/php5/mods-available",
      "packages": [
        "php5",
        "php5-apcu",
        "php5-cli",
        "php5-curl",
        "php5-gd",
        "php5-geos",
        "php5-gmp",
        "php5-intl",
        "php5-mcrypt",
        "php5-mysql",
        "php5-memcache",
        "php5-pecl-http",
        "php5-propro",
        "php5-raphf",
        "php-console-table"
      ]
    }
  },
  "override_attributes": {
    "apache": {
      "mpm": "prefork"
    }
  },
  "run_list": [
    "recipe[scratchpads::webserver]"
  ]
}